"use strict";$(document).ready(function(){jQuery(function(e){e(".select").on("click",".select__head",function(){e(this).hasClass("open")?(e(this).removeClass("open"),e(this).next().fadeOut()):(e(".select__head").removeClass("open"),e(".select__list").fadeOut(),e(this).addClass("open"),e(this).next().fadeIn())}),e(".select").on("click",".select__item",function(){e(".select__head").removeClass("open"),e(this).parent().fadeOut(),e(this).parent().prev().text(e(this).text()),e(this).parent().prev().prev().val(e(this).text())}),e(document).click(function(t){e(t.target).closest(".select").length||(e(".select__head").removeClass("open"),e(".select__list").fadeOut())})}),$(".phone_mask").mask("+7(999)999-99-99");var e=document.querySelector(".header__nav-toggle"),t=document.querySelector(".header__nav"),a=document.querySelector(".header");function s(e,t){function a(){e.addClass("hide"),$(".trial__overlay").addClass("hide"),$(".modal-back").addClass("hide"),$(".page-main").removeClass("blur"),$(".header").removeClass("blur"),$(".footer").removeClass("blur")}t.on("click",function(t){e.removeClass("hide"),e.addClass("show"),$(".trial__overlay").removeClass("hide"),$(".modal-back").removeClass("hide"),$(".page-main").addClass("blur"),$(".header").addClass("blur"),$(".footer").addClass("blur")}),$(".modal-close").on("click",function(e){a()}),$(".trial__overlay").on("click",function(t){e.addClass("hide"),a()}),$(document).keydown(function(e){27===e.which&&a()})}function i(e){e.on("click",function(t){$(".trial__tab-toggle").removeClass("trial__tab-toggle--active"),e.addClass("trial__tab-toggle--active"),$(".tab-toggle-adult").hasClass("trial__tab-toggle--active")&&($(".form-adult").removeClass("hide"),$(".form-child").addClass("hide")),$(".tab-toggle-child").hasClass("trial__tab-toggle--active")&&($(".form-child").removeClass("hide"),$(".form-adult").addClass("hide"))})}function l(){var e="",t={packet_type:$('input[name="packet-type"]:checked').val(),packet_time:$('input[name="packet-time"]:checked').val(),packet_online:$('input[name="packet-online"]:checked').val()};return $.each(t,function(a,s){void 0!==t[a]&&(e+="."+s)}),e}function c(){var e={packet_type:$('input[name="packet-type"]'),packet_time:$('input[name="packet-time"]'),packet_online:$('input[name="packet-online"]')},t=!0;return $.each(e,function(a,s){e[a].length&&(e[a].is(":checked")&&(t*=!0),e[a].is(":checked")||(t*=!1))}),t}function o(){var e=l();$(".packages__item-list").slick("slickUnfilter"),c()?$(".packages__item-list").slick("slickFilter",e):$(".packages__item-list").slick("slickFilter","")}function n(){var e=l();$(".packages__item").each(function(){$(this).hide(),$(this).is(e)&&c()&&$(this).show()})}e.addEventListener("click",function(){t.classList.contains("main-nav--closed")?(t.classList.remove("main-nav--closed"),t.classList.add("main-nav--opened"),e.classList.add("header__nav-toggle--open"),a.style.backgroundColor="#FFFBED"):(t.classList.add("main-nav--closed"),t.classList.remove("main-nav--opened"),e.classList.remove("header__nav-toggle--open"),a.style.backgroundColor="#FFF")}),s($(".modal-call"),$(".socials__item--phone")),s($(".modal-pay"),$(".packages__button")),s($(".modal-lesson"),$(".lesson-button")),i($(".tab-toggle-adult")),i($(".tab-toggle-child")),$(".story__list").slick({dots:!0,dotsClass:"my-dots",arrows:!1}),window.matchMedia("(max-width: 600px)").matches&&($(".results__list").slick({dots:!1,arrows:!1}),$(".packages__item-list").slick({dots:!1,arrows:!1}),o(),$(".packages__input").on("change",function(e){o()})),window.matchMedia("(min-width: 601px)").matches&&(n(),$(".packages__input").on("change",function(){n()})),$.each($(".packages__toggle"),function(){$(this).hasClass("packages__toggle--mediactive")||$(this).closest(".packages__toggle-item").children(".packages__type-list").hide()}),$(".packages__input").on("change",function(){var e=$(this).closest(".packages__toggle-item").children(".packages__toggle"),t=$(this).closest(".packages__toggle-item").next().children(".packages__toggle"),a=$(this).closest(".packages__toggle-item").children(".packages__toggle-type"),s=$(this).closest(".packages__toggle-item").children(".packages__type-list"),i=$(this).closest(".packages__toggle-item").next().children(".packages__type-list"),l=$(this).closest(".packages__toggle-item").prev().children(".packages__type-list");e.removeClass("packages__toggle--mediactive"),e.addClass("packages__toggle--active"),s.hide(),l.hide(),i.show(),t.addClass("packages__toggle--mediactive"),a.text($(this).attr("placeholder"))}),$(".packages__toggle").on("click",function(){var e=$(this).closest(".packages__toggle-item").children(".packages__type-list"),t=$(this).closest(".packages__toggle-item").find(".packages__input"),a=$(this).closest(".packages__toggle-item").find(".packages__toggle-type"),s=$(this).closest(".packages__toggle-item").nextAll().children(".packages__type-list"),i=$(this).closest(".packages__toggle-item").nextAll().find(".packages__input"),l=$(this).closest(".packages__toggle-item").nextAll().find(".packages__toggle-type"),c=$(this).closest(".packages__toggle-item").nextAll().find(".packages__toggle");$(this).hasClass("packages__toggle--active")&&($(this).removeClass("packages__toggle--active"),$(this).addClass("packages__toggle--mediactive"),t.prop("checked",!1),a.text(""),e.show(),c.removeClass("packages__toggle--mediactive"),c.removeClass("packages__toggle--active"),i.prop("checked",!1),l.text(""),s.hide()),window.matchMedia("(min-width: 601px)").matches&&n(),window.matchMedia("(max-width: 600px)").matches&&o()})});